(function(e){var t={id:"db9ba564a19e6ba3e716ee29cef6e7f8",filename:"infoForm.mustache",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["infoForm"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="apply-inner">');r.b("\n"+n);r.b('	<div class="section">');r.b("\n"+n);r.b('		<h3 class="title">商户基本信息</h3>');r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">商户名称</div>');r.b("\n"+n);r.b('			<div class="ui-textbox js-textbox ui-hotel-name">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">商家名称</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b("					<!-- dev:输入字符限制 -->");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-textbox-input" name="merchantName" maxlength="50" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="errmsg">');r.b("\n"+n);r.b('				<i class="icon-error"></i>');r.b("\n"+n);r.b('				<span class="msg">必须填写</span>');r.b("\n"+n);r.b("			</span>");r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">商户注册名称</div>');r.b("\n"+n);r.b('			<div class="ui-textbox js-textbox ui-hotel-name">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">营业执照中的名称</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b("					<!-- dev:输入字符限制 -->");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-textbox-input" name="merchantRegName" maxlength="50" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="errmsg">');r.b("\n"+n);r.b('				<i class="icon-error"></i>');r.b("\n"+n);r.b('				<span class="msg">必须填写</span>');r.b("\n"+n);r.b("			</span>");r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">商户联系电话</div>');r.b("\n"+n);r.b('			<div class="ui-textbox js-textbox">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">例（0577-12345678或手机号）</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-textbox-input" name="merchantPhone" maxlength="20" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="errmsg">');r.b("\n"+n);r.b('				<i class="icon-error"></i>');r.b("\n"+n);r.b('				<span class="msg">号码格式不正确</span>');r.b("\n"+n);r.b("			</span>");r.b("\n"+n);r.b('			<p class="form-input-notice">填写商户前台或入住前咨询电话（座机请加区号）</p>');r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">地址</div>');r.b("\n"+n);r.b('			<div class="ui-textbox js-textbox ui-address">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">请填写市</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b("					<!-- dev:输入字符限制 -->");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-address-input js-textbox-input" name="merchantCity" maxlength="50" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="ui-textbox-divide">-</span>');r.b("\n"+n);r.b('			<div class="ui-textbox ui-address js-textbox">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">请填写区</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b("					<!-- dev:输入字符限制 -->");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-address-input js-textbox-input" name="merchantRegion" maxlength="50" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="errmsg">');r.b("\n"+n);r.b('				<i class="icon-error"></i>');r.b("\n"+n);r.b('				<span class="msg">必须填写</span>');r.b("\n"+n);r.b("			</span>");r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">商户地址</div>');r.b("\n"+n);r.b('			<div class="ui-textbox ui-hotel-address js-textbox">');r.b("\n"+n);r.b('				<div class="ui-textbox-inner">');r.b("\n"+n);r.b('					<div class="ui-textbox-placeholder js-textbox-placeholder">');r.b("\n"+n);r.b('						<span class="ui-textbox-placeholder-text">请填写详细地址（不用重复填写省市区）</span>');r.b("\n"+n);r.b("					</div>");r.b("\n"+n);r.b('					<input type="text" class="ui-textbox-input js-textbox-input" name="merchantAddress" maxlength="30" />');r.b("\n"+n);r.b("				</div>");r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b('			<span class="errmsg">');r.b("\n"+n);r.b('				<i class="icon-error"></i>');r.b("\n"+n);r.b('				<span class="msg">必须填写</span>');r.b("\n"+n);r.b("			</span>");r.b("\n"+n);r.b('			<p class="form-input-notice">例：苏州街29号维亚大厦（长远天地对面）</p>');r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('			<div class="label">商户类型</div>');r.b("\n"+n);r.b('			<ul class="ui-checklist">');r.b("\n"+n);r.b('				<li class="ui-checklist-item">');r.b("\n"+n);r.b('					<input type="radio" id="_HOTEL" value="小区/物业" checked="checked" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_HOTEL">小区/物业</label>');r.b("\n"+n);r.b("				</li>");r.b("\n"+n);r.b('				<li class="ui-checklist-item">');r.b("\n"+n);r.b('					<input type="radio" id="_MEETING_CENTER" value="商家" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_MEETING_CENTER">商家</label>');r.b("\n"+n);r.b("				</li>");r.b("\n"+n);r.b('				<li class="ui-checklist-item">');r.b("\n"+n);r.b('					<input type="radio" id="_HOLIDAY_VILLAGE" value="外卖" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_HOLIDAY_VILLAGE">外卖</label>');r.b("\n"+n);r.b("				</li>");r.b("\n"+n);r.b('	<li class="ui-checklist-item">');r.b("\n"+n);r.b('					<input type="radio" id="_SPECIAL_FIELD" value="家政" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_SPECIAL_FIELD">家政</label>');r.b("\n"+n);r.b("				</li>");r.b("\n"+n);r.b('       <li class="ui-checklist-item">');r.b("\n"+n);r.b('	<li class="ui-checklist-item">');r.b("\n"+n);r.b('   <input type="radio" id="_SPECIAL_FIELD" value="政府" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_SPECIAL_FIELD">政府</label>');r.b("\n"+n);r.b("				</li>");r.b("\n"+n);r.b('        <li class="ui-checklist-item">');r.b("\n"+n);r.b('  <input type="radio" id="_SPECIAL_FIELD" value="其他" class="ui-checklist-radiobox" name="merchantType">');r.b("\n"+n);r.b('                	<label class="ui-checklist-label" for="_SPECIAL_FIELD">其他</label>');r.b 
("\n"+n);r.b("				</li>");r.b("\n"+n);r.b("	 		</ul>");r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b('		<div class="row js-row">');r.b("\n"+n);r.b('            <button class="ui-btn ui-btn-large submit js-submit-base-info" type="button">提交商户信息</button>');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("	</div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(typeof t!=="undefined")t.exports=window.QTMPL["infoForm"]}(t.exports,t,e);e.____MODULES["db9ba564a19e6ba3e716ee29cef6e7f8"]=t.exports})(this);(function(e){var t={id:"9864bc7170d67da77169bc9aa02f435d",filename:"joinAgreement.mustache",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["joinAgreement"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="agreement-wrapper">');r.b("\n"+n);r.b('	<div class="content-ft">');r.b("\n"+n);r.b('			<div class="operate">');r.b("\n"+n);r.b('				<a href="javascript:void(0);" class="ui-btn" id="js-back" type="button">返回</a>');r.b("\n"+n);r.b('				<a href="javascript:void(0);" class="ui-btn" type="button" id="js-go">继续</a>');r.b("\n"+n);r.b("			</div>");r.b("\n"+n);r.b("		</div>");r.b("\n"+n);r.b("	</div>");r.b("\n"+n);r.b("	</div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(typeof t!=="undefined")t.exports=window.QTMPL["joinAgreement"]}(t.exports,t,e);e.____MODULES["9864bc7170d67da77169bc9aa02f435d"]=t.exports})(this);(function(e){var t={id:"d2ab23b1beb67a31227e0bd000a4d769",filename:"hotelAuthInfo.mustache",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["hotelAuthInfo"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="apply-inner">');r.b("\n"+n);r.b('<button class="ui-btn ui-btn-large submit js-submit-auth-info" type="button">提交加盟信息</button>');r.b("\n"+n);r.b("        </div>");r.b("\n"+n);r.b("	</div>");r.b("\n"+n);r.b("</div>");r.b("\n");return r.fl();});if(typeof t!=="undefined")t.exports=window.QTMPL["hotelAuthInfo"]}(t.exports,t,e);e.____MODULES["d2ab23b1beb67a31227e0bd000a4d769"]=t.exports})(this);(function(e){var t={id:"9e8c01c72fb576c017a7887cd87ca083",filename:"joinReason.mustache",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["joinReason"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<div class="why">');r.b("\n"+n);r.b('    <h5 class="title">为什么加盟攀枝花都市网</h5>');r.b("\n"+n);r.b('    <div class="reason">');r.b("\n"+n);r.b("        <div>攀枝花都市网智慧城市，把订单带回家</div>");r.b("\n"+n);r.b("        <ul>");r.b("\n"+n);r.b("            <li>随地推送订单；先进的智能系统，精准匹配用户订单，快速提升收益。</li>");r.b("\n"+n);r.b("\n"+n);r.b("        </ul>");r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(typeof t!=="undefined")t.exports=window.QTMPL["joinReason"]}(t.exports,t,e);e.____MODULES["9e8c01c72fb576c017a7887cd87ca083"]=t.exports})(this);(function(e){var t={id:"8107ce21dc2a374d95ecd8cc78b9ccd7",filename:"finish.mustache",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["finish"]=new window.Hogan.Template(function(e,t,n){var r=this;r.b(n=n||"");r.b('<!-- <div class="finish-inner">');r.b("\n"+n);r.b('   <div class="msg">');r.b("\n"+n);r.b('    	<div class="download">提交成功</div>');r.b("\n"+n);r.b('        <div class="title">请耐心等待审核，审核成功后，会短信和邮件告知审核结果，请注意查收哦！</div>');r.b("\n"+n);r.b("    </div>");r.b("\n"+n);r.b("</div>");return r.fl();});if(typeof t!=="undefined")t.exports=window.QTMPL["finish"]}(t.exports,t,e);e.____MODULES["8107ce21dc2a374d95ecd8cc78b9ccd7"]=t.exports})(this);(function(e){var t={id:"542e070d723e7f3d31200a0a7e320cff",filename:"main.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["db9ba564a19e6ba3e716ee29cef6e7f8"],s=e.____MODULES["9864bc7170d67da77169bc9aa02f435d"],o=e.____MODULES["d2ab23b1beb67a31227e0bd000a4d769"],u=e.____MODULES["9e8c01c72fb576c017a7887cd87ca083"],a=e.____MODULES["8107ce21dc2a374d95ecd8cc78b9ccd7"];window.GARuner=function(e){try{var t=window.__GA__;var n=2589;if(t){t.clk({_ba_utm_s:n,_ba_utm_ex:{a:e}})}}catch(r){console.log("GARuner e")}};$(function(){var e=function(){return{init:function(){this.renderInfoForm();this.renderAgreement();this.renderAuthInfo();this.renderJoinReason();this.renderJoinFinish();this.bindEvent();window.__GA__.init()},hotelInfo:{},isSubmited:false,renderInfoForm:function(){$("#js-info-form").append(i.render({}))},renderAgreement:function(){$("#js-join-agreement").append(s.render({}))},renderAuthInfo:function(){$("#js-auth-form").append(o.render({}))},renderJoinReason:function(){$("#js-join-reason").append(u.render({}))},renderJoinFinish:function(){$("#js-finish").append(a.render({}))},bindEvent:function(){var e=this;$(".js-textbox").on("click",function(){$(this).find(".js-textbox-input").focus()});$(".js-textbox-input").on("keyup",function(){if(!$(this).val()){$(this).siblings(".js-textbox-placeholder").show()}else{$(this).siblings(".js-textbox-placeholder").hide()}});$(".js-textbox-input").on("blur",function(){e.validateItem($(this))});$(".js-submit-base-info").on("click",function(){var t=$("#js-apply");var n=e.validateData(t,"baseInfo");if(n){GARuner("加盟页商户信息验证通过");$("#js-apply").hide();$("#js-auth").show();$(window).scrollTop(0);e.hotelInfo=n}else{GARuner("加盟页商户信息验证不通过");$("#js-apply").show();$("#js-join-agreement").hide()}});$(".js-submit-auth-info").on("click",function(){var t=$("#js-auth");var n=e.validateData(t,"authInfo");if(n){GARuner("加盟页加盟信息验证通过");var r=$.extend({},e.hotelInfo,n);e.submitData(r)}else{GARuner("加盟页加盟信息验证不通过")}});$(".js-download").on("click",function(){GARuner("授权书下载次数")})},submitData:function(e){var t=this;if(t.isSubmited)return;t.isSubmited=true;$.ajax({url:"/joinus/save",type:"POST",data:e,success:function(e){if(e.ret){$("#js-auth").hide();$("#js-finish").show();$(window).scrollTop(0)}else{t.isSubmited=false;alert("系统繁忙，请稍后重试！")}},error:function(){t.isSubmited=false;alert("系统繁忙，请稍后重试！")}})},validateData:function(e,t){var n=true,r={},i=this;e.find(".js-textbox-input").each(function(e,t){var s=$(t),o=s.attr("name"),u=s.val();if(i.validateItem(s)){n=false}r[o]=u});if(t=="baseInfo"){r["merchantType"]=i.getRadioVal("merchantType")}return n?r:null},validateItem:function(e){var t=e.attr("name"),n=e.val(),r=false,i=false;switch(t){case"merchantName":case"merchantRegName":i=false;r=n==""||n.length>50;break;case"merchantPhone":var s=/^1[0-9]{10}$|^[\d-#*]{6,20}$/;i=false;r=!s.test(n);break;case"contactMobilePhone":i=false;var s=/^1[0-9]{10}$/;r=!s.test(n);break;case"contactEmail":var s=/^([\w\.\-]+)@([\w\.\-]+)\.([a-zA-Z]{2,4})$/;i=false;r=!s.test(n);break;case"merchantProvince":case"merchantCity":case"merchantRegion":i=true;r=!this.validateAddress();break;case"merchantAddress":case"contactName":case"contactName":case"qunarAccount":i=false;r=n=="";break}if(i){this.updateValidateStatus(e,n=="",true,r)}else{this.updateValidateStatus(e,r,false)}return r},validateAddress:function(){var e=true;$(".js-address-input").each(function(t,n){var r=$(n),i=r.val();if(!i){e=false}});return e},updateValidateStatus:function(e,t,n,r){var i=e.parents(".js-textbox");if(t){i.addClass("ui-textbox-error");i.siblings(".errmsg").css("display","inline-block")}else{i.removeClass("ui-textbox-error");if(n&&!r||!n){i.siblings(".errmsg").hide()}}},getRadioVal:function(e){return $("input[name="+e+'][type="radio"]:checked').val()}}}();e.init();GARuner("加盟页面访问次数")})}(t.exports,t,e);e.____MODULES["542e070d723e7f3d31200a0a7e320cff"]=t.exports})(this);(function(e){var t={id:"f44c1d52f2f363d3b76f1208427f3e57",filename:"join.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){e.____MODULES["542e070d723e7f3d31200a0a7e320cff"]}(t.exports,t,e);e.____MODULES["f44c1d52f2f363d3b76f1208427f3e57"]=t.exports})(this)